# entrytask性能测试文档

## 测试环境
- Ubuntu 16.04 LTS(vagrant)
- 内存：12GB
- Mysql 5.7(docker)
- Redis(docker)
- Go1.9


## 测试结果
测试项目 | QPS 
----|-----
200并发（固定用户）|5404.03
2000并发（固定用户）|4641.02
200并发（随机用户）|3666.94
1000并发（随机用户）|2526.27
2000并发（随机用户）|TODO



## 数据记录

### 200并发（固定用户）

- ab  -C gin_cookie=test -n 100000 -c 200 http://192.168.33.10:8052/

序号 | QPS 
----|-----
1|5406.35
2|5430.52
3|5498.35
4|5229.88
5|5455.04
avg|5404.03

### 2000并发（固定用户）

- ab  -C gin_cookie=test -n 100000 -c 2000 http://192.168.33.10:8052/

序号 | QPS 
----|-----
1|4280.43
2|4671.48 
3|4794.22
4|4773.42
5|4685.53 
avg|4641.02

### 200并发（随机用户）

- urls中包含1000万个用户信息页，siege从中随机选择访问，以模拟随机用户访问情形
- siege --content-type "application/json" -i -b -c 200 -r 500 -f urls.txt

序号 | QPS 
----|-----
1|3730.77
2|3372.88 
3|3901.84
4|3603.60
5|3725.60 
avg|3666.94


### 1000并发（随机用户）

- 由于siege超过1000并发数会出现大量socket错误，暂时只做1000随机用户并发测试
- urls中包含1000万个用户信息页，siege从中随机选择访问，以模拟随机用户访问情形
- siege --content-type "application/json" -i -b -c 1000 -r 100 -f urls.txt

序号 | QPS 
----|-----
1|2707.40
2|2823.87
3|2870.91
4|2175.86
5|2053.29
avg|2526.27